![](https://px.ads.linkedin.com/collect/?pid=1468257&fmt=gif) <link rel="dns-prefetch" href="//widgets.wp.com"> <link rel="dns-prefetch" href="//jetpack.wordpress.com"> <link rel="dns-prefetch" href="//s0.wp.com"> <link rel="dns-prefetch" href="//s1.wp.com"> <link rel="dns-prefetch" href="//s2.wp.com"> <link rel="dns-prefetch" href="//public-api.wordpress.com"> <link rel="dns-prefetch" href="//0.gravatar.com"> <link rel="dns-prefetch" href="//1.gravatar.com"> <link rel="dns-prefetch" href="//2.gravatar.com"> <link rel="dns-prefetch" href="//c0.wp.com"> <link rel="dns-prefetch" href="//v0.wordpress.com"> <link rel="dns-prefetch" href="//i0.wp.com"> <link rel="dns-prefetch" href="//i1.wp.com"> <link rel="dns-prefetch" href="//i2.wp.com"> <style type="text/css">img#wpstats{display:none}</style> <style type="text/css"> /* If html does not have either class, do not show lazy loaded images. */ html:not( .jetpack-lazy-images-js-enabled ):not( .js ) .jetpack-lazy-image { display: none; } </style> <script> document.documentElement.classList.add( 'jetpack-lazy-images-js-enabled' ); </script> <link rel="icon" href="https://i0.wp.com/blog.logrocket.com/wp-content/uploads/2019/06/cropped-cropped-favicon-196x196.png?fit=32%2C32&amp;ssl=1" sizes="32x32"> <link rel="icon" href="https://i0.wp.com/blog.logrocket.com/wp-content/uploads/2019/06/cropped-cropped-favicon-196x196.png?fit=192%2C192&amp;ssl=1" sizes="192x192"> <link rel="apple-touch-icon-precomposed" href="https://i0.wp.com/blog.logrocket.com/wp-content/uploads/2019/06/cropped-cropped-favicon-196x196.png?fit=180%2C180&amp;ssl=1"> <meta name="msapplication-TileImage" content="https://i0.wp.com/blog.logrocket.com/wp-content/uploads/2019/06/cropped-cropped-favicon-196x196.png?fit=270%2C270&amp;ssl=1"> <link rel="stylesheet" type="text/css" id="wp-custom-css" href="https://blog.logrocket.com/?custom-css=262685436a"> <style id="kirki-inline-styles">.btn-simple{background-color:#764abc;border-color:#764abc;}.prevnextlinks a, .article-post a, .post .btn.follow, .post .post-top-meta .author-description a, article.page a, .alertbar a{color:#764abc;}.post .btn.follow, .alertbar input[type="submit"]{border-color:#764abc;}blockquote{border-color:#764abc;}.entry-content input[type=submit], .alertbar input[type="submit"]{background-color:#764abc;border-color:#764abc;}p.sharecolour{color:#999999;}.shareitnow ul li a svg, .shareitnow a{fill:#b3b3b3;}.shareitnow li a{color:#b3b3b3;border-color:#d2d2d2;}#comments a{color:#764abc;}.comment-form input.submit{background-color:#764abc;border-color:#764abc;}footer.footer a{color:#764abc;}.carousel-excerpt .fontlight,body{font-family:PT Sans;font-size:15px;font-weight:400;line-height:1.5;color:#666666;}.h1,.h2,.h3,.h4,.h5,.h6,h1,h2,h3,h4,h5,h6{font-family:PT Sans;font-weight:700;color:#111111;}.carousel-excerpt .title{font-family:PT Sans;font-size:30px;font-weight:700;text-transform:none;color:#ffffff;}.carousel-excerpt .fontlight{font-size:18px;font-weight:400;color:#ffffff;}.mediumnavigation .navbar-brand{font-family:Merriweather;font-size:26px;font-weight:700;}.navbar-toggleable-md .navbar-collapse{font-family:PT Sans;font-weight:400;}.article-post{font-family:Merriweather;font-weight:400;line-height:1.8;color:#222222;}.mediumnavigation, .dropdown-menu, .dropdown-item{background-color:#ffffff;}.mediumnavigation, .mediumnavigation a, .navbar-light .navbar-nav .nav-link{color:#764abc;}.navbar-light .navbar-brand{color:#111111;}.navbar-light .navbar-brand:hover{color:#02b875;}.customarea .btn.follow{border-color:#ffffff;color:#ffffff;}@media (max-width: 767px){.navbar-collapse{background-color:#ffffff;}}@font-face{font-display:swap;font-family:'PT Sans';font-style:normal;font-weight:400;src:local('PT Sans'), local('PTSans-Regular'), url(//blog.logrocket.com/wp-content/uploads/2019/07/jizaRExUiTo99u79P0Y.woff) format('woff');}@font-face{font-display:swap;font-family:'PT Sans';font-style:normal;font-weight:700;src:local('PT Sans Bold'), local('PTSans-Bold'), url(//blog.logrocket.com/wp-content/uploads/2019/07/jizfRExUiTo99u79B_mh4Oo.woff) format('woff');}@font-face{font-display:swap;font-family:'Merriweather';font-style:normal;font-weight:400;src:local('Merriweather Regular'), local('Merriweather-Regular'), url(//blog.logrocket.com/wp-content/uploads/2019/07/u-440qyriQwlOrhSvowK_l5OeA.woff) format('woff');}@font-face{font-display:swap;font-family:'Merriweather';font-style:normal;font-weight:700;src:local('Merriweather Bold'), local('Merriweather-Bold'), url(//blog.logrocket.com/wp-content/uploads/2019/07/u-4n0qyriQwlOrhSvowK_l52xwNpXA.woff) format('woff');}</style> 

<header class="navbar-light bg-white fixed-top mediumnavigation">

<div class="container">

<div class="navarea">

<div class="nav-left">[![LogRocket Blog](https://blog.logrocket.com/wp-content/uploads/2020/01/logrocket-blog-logo.png)](https://logrocket.com)

<nav class="menu-container">

<div class="menu-primary-container">

*   [Blog](/)

</div>

</nav>

</div>

<div class="nav-right">

<div class="menu-container">

<div id="right-hand-nav" class="menu-right-hand-menu-container">

*   [Sign In](https://app.logrocket.com)
*   [Free Trial](https://logrocket.com/signup/)

</div>

</div>

</div>

</div>

</div>

</header>

<div class="site-content">

<div class="container">

<div class="row">

<div class=" col-md-2 ">

<div class="share">

Share

*   [](https://twitter.com/intent/tweet?text=Node.js%20multithreading:%20What%20are%20Worker%20threads,%20and%20why%20do%20they%20matter?&url=https%3A%2F%2Fblog.logrocket.com%2Fnode-js-multithreading-what-are-worker-threads-and-why-do-they-matter-48ab102f8b10%2F)
*   [](https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fblog.logrocket.com%2Fnode-js-multithreading-what-are-worker-threads-and-why-do-they-matter-48ab102f8b10%2F)
*   [](https://plus.google.com/share?url=https%3A%2F%2Fblog.logrocket.com%2Fnode-js-multithreading-what-are-worker-threads-and-why-do-they-matter-48ab102f8b10%2F)
*   [](https://pinterest.com/pin/create/button/?url=https%3A%2F%2Fblog.logrocket.com%2Fnode-js-multithreading-what-are-worker-threads-and-why-do-they-matter-48ab102f8b10%2F&media=https://i1.wp.com/blog.logrocket.com/wp-content/uploads/2019/01/nodejs-multithreading-worker-threads.jpeg?fit=730%2C486&ssl=1&description=Node.js%20multithreading:%20What%20are%20Worker%20threads,%20and%20why%20do%20they%20matter?)
*   [](https://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Fblog.logrocket.com%2Fnode-js-multithreading-what-are-worker-threads-and-why-do-they-matter-48ab102f8b10%2F&title=Node.js%20multithreading:%20What%20are%20Worker%20threads,%20and%20why%20do%20they%20matter?)

<div class="hidden-xs-down">

Reply

*   [5  
    ](#comments)

</div>

</div>

</div>

<div class="col-md-8 flex-first flex-md-unordered post-178 post type-post status-publish format-standard has-post-thumbnail hentry category-uncategorized tag-node" id="post-178">

<div class="mainheading">

<div class="row post-top-meta hidden-md-down">

<div class="col-md-2 col-xs-12">[![](https://i2.wp.com/blog.logrocket.com/wp-content/uploads/2019/04/albertogimeno.jpeg?resize=150%2C150&ssl=1)

<noscript>![](https://i2.wp.com/blog.logrocket.com/wp-content/uploads/2019/04/albertogimeno.jpeg?resize=150%2C150&ssl=1)</noscript>

](https://blog.logrocket.com/author/albertogimeno/)</div>

<div class="col-md-10 col-xs-12">[Alberto Gimeno <span class="btn follow">Follow</span>](https://blog.logrocket.com/author/albertogimeno/) <span class="author-description d-block">Ecosystem engineer at @github. Sometimes I write about JavaScript, Node.js, and frontend development.</span></div>

</div>

# Node.js multithreading: What are Worker threads, and why do they matter?

<span class="post-date"><time class="post-date">January 31, 2019</time> </span><span class="dot"></span><span class="readingtime">10 min read</span> <span class="wordcount">2838</span>

</div>

![Node.js Multithreading: What Are Worker Threads?](https://i1.wp.com/blog.logrocket.com/wp-content/uploads/2019/01/nodejs-multithreading-worker-threads.jpeg?fit=730%2C486&ssl=1)

<article class="article-post">

Updated in January 2020 to reflect stable support for the `worker_threads` module.

Since the release of [Node.js v10.5.0](https://nodejs.org/en/blog/release/v10.5.0/), there’s a new `worker_threads` module available, and it has been stable since Node.js v12 LTS.

What exactly is this Worker thread module, and why do we need it? In this post, we will talk about the historical reasons concurrency is implemented in JavaScript and Node.js, the problems we might find, current solutions, and the future of parallel processing with Worker threads.

## Living in a single-threaded world

JavaScript was conceived as a single-threaded programming language that ran in a browser. Being single-threaded means that only one set of instructions is executed at any time in the same process (the browser, in this case, or just the current tab in modern browsers).

This made things easier for implementation and for developers using the language. JavaScript was initially a language only useful for adding some interaction to webpages, form validations, and so on — nothing that required the complexity of multithreading.

[Ryan Dahl](https://github.com/ry), the creator of Node.js, saw this limitation as an opportunity. He wanted to implement a server-side platform based on asynchronous I/O, which means you don’t need threads (which makes things a lot easier). Concurrency can be a very hard problem to solve. Having many threads accessing the same memory can produce race conditions that are very hard to reproduce and fix.

## Is Node.js single-threaded?

So, our Node.js applications are single-threaded, right? Well, kind of.

Actually, we can run things in parallel, but we don’t create threads, and we don’t sync them. The virtual machine and the operating system run the I/O in parallel for us, and when it’s time to send data back to our JavaScript code, the JavaScript part is the one that runs in a single thread.

In other words, everything runs in parallel except for our JavaScript code. Synchronous blocks of JavaScript code are always run one at a time:

<pre>let flag = false
function doSomething() {
  flag = true
  // More code (that doesn't change `flag`)...

  // We can be sure that `flag` here is true.
  // There's no way another code block could have changed
  // `flag` since this block is synchronous.
}</pre>

This is great if all we do is asynchronous I/O. Our code consists of small portions of synchronous blocks that run fast and pass data to files and streams. So our JavaScript code is so fast that it doesn’t block the execution of other pieces of JavaScript. A lot more time is spent waiting for I/O events to happen than JavaScript code being executed. Let’s see this with a quick example:

<pre>db.findOne('SELECT ... LIMIT 1', function(err, result) {
  if (err) return console.error(err)
  console.log(result)
})
console.log('Running query')
setTimeout(function() {
  console.log('Hey there')
}, 1000)</pre>

Maybe this query to the database takes a minute, but the “Running query” message will be shown immediately after invoking the query. And we will see the “Hey there” message a second after invoking the query if the query is still running or not.

Our Node.js application just invokes the function and does not block the execution of other pieces of code. It will get notified through the callback when the query is done, and we will receive the result.

## CPU-intensive tasks

What happens if we need to do synchronous-intense stuff, such as doing complex calculations in memory in a large dataset? Then we might have a synchronous block of code that takes a lot of time and will block the rest of the code.

Imagine that a calculation takes 10s. If we are running a web server, that means that all of the other requests get blocked for at least 10s because of that calculation. That’s a disaster. Anything more than 100ms could be too much.

JavaScript and Node.js were not meant to be used for CPU-bound tasks. Since JavaScript is single-threaded, this will freeze the UI in the browser and queue any I/O event in Node.js.

Going back to our previous example, imagine we now have a query that returns a few thousand results, and we need to decrypt the values in our JavaScript code:

<pre>db.findAll('SELECT ...', function(err, results) {
  if (err) return console.error(err)

  // Heavy computation and many results
  for (const encrypted of results) {
    const plainText = decrypt(encrypted)
    console.log(plainText)
  }
})</pre>

We will get the results in the callback once they are available. Then, no other JavaScript code is executed until our callback finishes its execution.

Usually, as we said before, the code is minimal and fast enough, but in this case, we have many results and we need to do heavy computations on them. This might take a few seconds, and during that time, any other JavaScript execution is queued, which means we might be blocking all our users during that time if we are running a server in the same application.

## Why we will never have threads in JavaScript

So, at this point, many people might think somebody needs to add a new module in the Node.js core and allow us to create and sync threads. That should be it, right? It’s a shame we don’t have a nice way of solving this use case in a mature server-side platform such as Node.js.

Well, if we add threads, then we are changing the nature of the language. We cannot just add threads as a new set of classes or functions available. We need to change the language. Languages that support multithreading have keywords such as “synchronized” in order to enable threads to cooperate.

For example, in Java, [even some numeric types are not atomic](https://dzone.com/articles/longdouble-are-not-atomic-in-java); if you don’t synchronize their access, you could end up having two threads change the value of a variable. The result would be that after both threads have accessed the variable, it has a few bytes changed by one thread and a few bytes changed by the other thread — and, thus, not resulting in any valid value.

## The naive solution: Tick, tick, tick

Node.js won’t evaluate the next code block in the event queue until the previous one has finished executing. So one simple thing we can do is split our code into smaller synchronous code blocks and call `setImmediate(callback)` to tell Node.js we are done and that it can continue executing pending things that are in the queue.

It can continue on the next iteration (or “tick”) of the event loop. Let’s see how we can refactor some code to take advantage of this. Let’s imagine we have a large array that we want to process, and every item on the array requires CPU-intensive processing:

<pre>const arr = [/*large array*/]
for (const item of arr) {
  // do heavy stuff for each item on the array
}
// code that runs after the whole array is executed</pre>

Like we said before, if we do this, the processing of the whole array will take too much time and will block the rest of the JavaScript execution. So let’s split this into smaller chunks and use `setImmediate(callback)`:

<pre>const crypto = require('crypto')

const arr = new Array(200).fill('something')
function processChunk() {
  if (arr.length === 0) {
    // code that runs after the whole array is executed
  } else {
    console.log('processing chunk');
    // pick 10 items and remove them from the array
    const subarr = arr.splice(0, 10)
    for (const item of subarr) {
      // do heavy stuff for each item on the array
      doHeavyStuff(item)
    }
    // Put the function back in the queue
    setImmediate(processChunk)
  }
}

processChunk()

function doHeavyStuff(item) {
  crypto.createHmac('sha256', 'secret').update(new Array(10000).fill(item).join('.')).digest('hex')
}

// This is just for confirming that we can continue
// doing things
let interval = setInterval(() => {
  console.log('tick!')
  if (arr.length === 0) clearInterval(interval)
}, 0)</pre>

Now we process 10 items each time and call `setImmediate(callback)` so that if there’s something else the program needs to do, it will do it in between those chunks of 10 items. I’ve added a `setInterval()` for demonstrating exactly that.

As you can see, the code gets more complicated. And many times, the algorithm is a lot more complex than this, so it’s hard to know where to put the `setImmediate()` to find a good balance. Besides, the code now is asynchronous, and if we depend on third-party libraries, we might not be able to split the execution into smaller chunks.

## Background processes

So `setImmediate()` is maybe OK for some simple use cases, but it’s far from an ideal solution. Also, we didn’t have threads (for good reasons), and we don’t want to modify the language.

Can we do parallel processing without threads? Yes — what we need is just some kind of background processing, a way of running a task with input that could use whatever amount of CPU and time it needs and return a result back to the main application. Something like this:

<pre>// Runs `script.js` in a new environment without sharing memory.
const service = createService('script.js')
// We send an input and receive an output
service.compute(data, function(err, result) {
  // result available here
})</pre>

The reality is that we can already do background processing in Node.js: we can [fork the process](https://nodejs.org/api/child_process.html#child_process_child_process_fork_modulepath_args_options) and do exactly that using message passing. The main process can communicate with the child process by sending and receiving events.

No memory is shared. All the data exchanged is “cloned,” meaning that changing it in one side doesn’t change it on the other side. Like an HTTP response, once you have sent it, the other side just has a copy of it. If we don’t share memory, we don’t have race conditions, and we don’t need threads. Problem solved!

Well, hold on. This is a solution, but it’s not the ideal solution. Forking a process is an expensive process in terms of resources. And it is slow. It means running a new virtual machine from scratch using a lot of memory since processes don’t share memory.

Can we reuse the same forked process? Sure, but sending different heavy workloads that are going to be executed synchronously inside the forked process creates two problems.

For one thing, sure, you may not blocking the main app, but the forked process will only be able to process one task at a time. If you have two tasks — one that will take 10s and one that will take 1s, in that order — it’s not ideal to have to wait 10s to execute the second task.

Since we are forking processes, we want to take advantage of the scheduling of the operating system and all the cores of our machine. The same way you can listen to music and browse the internet at the same time, you can fork two processes and execute all the tasks in parallel.

And for another thing, if one task crashes the process, it will leave all tasks sent to the same process unfinished.

In order to fix these problems, we need multiple forks, not only one. But we need to limit the number of forked processes because each one will have all the virtual machine code duplicated in memory, meaning a few MBs per process and a non-trivial boot time.

So, like database connections, we need a pool of processes ready to be used, run a task at a time in each one, and reuse the process once the task has finished. This looks complex to implement, and it is! Let’s use [worker-farm](https://www.npmjs.com/package/worker-farm) to help us out:

<pre>// main app
const workerFarm = require('worker-farm')
const service = workerFarm(require.resolve('./script'))

service('hello', function (err, output) {
  console.log(output)
})

// script.js
// This will run in forked processes
module.exports = (input, callback) => {
  callback(null, input + ' ' + world)
}</pre>

## Problem solved?

So, problem solved? Yes, we have solved the problem, but we are still using a lot more memory than a multithreaded solution. Threads are still very lightweight in terms of resources compared to forked processes. And this is the reason why Worker threads were born!

Worker threads have isolated contexts. They exchange information with the main process using message passing, so we avoid the race conditions problem threads have! But they do live in the same process, so they use a lot less memory.

Well, you can share memory with Worker threads. You can pass `SharedArrayBuffer` objects that are specifically meant for that. Only use them if you need to do CPU-intensive tasks with large amounts of data. They allow you to avoid the serialization step of the data.

## Let’s start using Worker threads!

You can start using the `worker_threads` module today if you run Node.js v10.5.0 or higher. If you’re using any version prior to 11.7.0, however, you need to enable it by using the `--experimental-worker` flag when invoking Node.js.

Also, keep in mind that creating a Worker — even though it’s a lot cheaper than forking a process — can also use too many resources depending on your needs. In that case, the docs recommend you create a pool of Workers. You can probably look for a generic pool implementation or a specific one in npm instead of creating your own pool implementation.

But let’s see a simple example. First, we are going to implement the main file, where we are going to create a Worker thread and give it some data. The API is event-driven, but I’m going to wrap it into a Promise that resolves in the first message received from the Worker:

<pre>// index.js
// run with node --experimental-worker index.js on Node.js 10.x
const { Worker } = require('worker_threads')

function runService(workerData) {
  return new Promise((resolve, reject) => {
    const worker = new Worker('./service.js', { workerData });
    worker.on('message', resolve);
    worker.on('error', reject);
    worker.on('exit', (code) => {
      if (code !== 0)
        reject(new Error(`Worker stopped with exit code ${code}`));
    })
  })
}

async function run() {
  const result = await runService('world')
  console.log(result);
}

run().catch(err => console.error(err))</pre>

As you can see, this is as easy as passing the filename as an argument and the data we want the Worker to process. Remember that this data is cloned and is not in any shared memory. Then, we wait for the Worker thread to send us a message by listening to the `message` event.

Now we need to implement the service.

<pre>const { workerData, parentPort } = require('worker_threads')

// You can do any heavy stuff here, in a synchronous way
// without blocking the "main thread"
parentPort.postMessage({ hello: workerData })</pre>

Here, we need two things: the `workerData` that the main app sent to us and a way to return information to the main app. This is done with the `parentPort` that has a `postMessage` method where we will pass the result of our processing.

That’s it! This is the simplest example, but we can build more complex things — for example, we could send multiple messages from the Worker thread indicating the execution status if we need to provide feedback. Or we can send partial results. Imagine that you are processing thousands of images. Maybe you want to send a message per image processed, but you don’t want to wait until all of them are processed.

In order to run the example, remember to use the `--experimental-worker` flag if you are using any version prior to Node.js 11.7:

<pre>node --experimental-worker index.js</pre>

For additional information check out the `[worker_threads](https://nodejs.org/docs/latest-v10.x/api/worker_threads.html)` documentation.

<div class="inline-plug cro18">

## 200’s only ![](https://i0.wp.com/blog.logrocket.com/wp-content/uploads/2019/10/green-check.png?ssl=1)

<noscript>![](https://i0.wp.com/blog.logrocket.com/wp-content/uploads/2019/10/green-check.png?ssl=1)</noscript>

: Monitor failed and slow Node requests in production

Deploying a new web app or website leveraging multithreading is the easy part. Making sure everything continues to serve resources to your app is where things get tougher. If you’re interested in ensuring requests to the backend or third-party services are successful, [try LogRocket](https://logrocket.com/signup/).

[![LogRocket Dashboard Free Trial Banner](https://i1.wp.com/blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png?resize=1200%2C677&ssl=1)

<noscript>![LogRocket Dashboard Free Trial Banner](https://i1.wp.com/blog.logrocket.com/wp-content/uploads/2017/03/1d0cd-1s_rmyo6nbrasp-xtvbaxfg.png?resize=1200%2C677&ssl=1)</noscript>

](https://logrocket.com/signup/)

[LogRocket](https://logrocket.com/signup/) is like a DVR for web apps, recording literally everything that happens on your site. Instead of guessing why problems happen, you can aggregate and report on problematic network requests to quickly understand the root cause.

LogRocket instruments your app to record baseline performance timings such as page load time, time to first byte, and slow network requests, and also logs Redux, NgRx, and Vuex actions/state. [Start monitoring for free](https://logrocket.com/signup/).

</div>

## What about Web Workers?

Maybe you have heard of the Web Workers API. They are a more mature API for the web and [well supported](https://caniuse.com/#search=web%20workers) by modern browsers. The API is different because the needs and technical conditions are different, but they can solve similar problems in the browser runtime. It can be useful if you are doing crypto, compressing/decompressing, image manipulation, computer vision (e.g., face recognition), etc. in your web application.

## Conclusion

Worker threads is an exciting and useful module if you need to do CPU-intensive tasks in your Node.js application. It’s like threads without shared memory and, thus, without the potential race conditions they introduce. Since the `worker_threads` module became stable in Node.js v12 LTS, you should feel secure using it in production-grade apps!

<div class="sharedaddy sd-sharing-enabled">

<div class="robots-nocontent sd-block sd-social sd-social-icon-text sd-sharing">

### Share this:

<div class="sd-content">

*   [<span>Twitter</span>](https://blog.logrocket.com/node-js-multithreading-what-are-worker-threads-and-why-do-they-matter-48ab102f8b10/?share=twitter "Click to share on Twitter")
*   [<span>Reddit</span>](https://blog.logrocket.com/node-js-multithreading-what-are-worker-threads-and-why-do-they-matter-48ab102f8b10/?share=reddit "Click to share on Reddit")
*   [<span>LinkedIn</span>](https://blog.logrocket.com/node-js-multithreading-what-are-worker-threads-and-why-do-they-matter-48ab102f8b10/?share=linkedin "Click to share on LinkedIn")
*   [<span>Facebook</span>](https://blog.logrocket.com/node-js-multithreading-what-are-worker-threads-and-why-do-they-matter-48ab102f8b10/?share=facebook "Click to share on Facebook")

</div>

</div>

</div>

</article>

<div class="row post-top-meta hidden-lg-up">

<div class="col-md-2 col-xs-4">![](https://i2.wp.com/blog.logrocket.com/wp-content/uploads/2019/04/albertogimeno.jpeg?resize=150%2C150&ssl=1)

<noscript>![](https://i2.wp.com/blog.logrocket.com/wp-content/uploads/2019/04/albertogimeno.jpeg?resize=150%2C150&ssl=1)</noscript>

</div>

<div class="col-md-10 col-xs-8">[Alberto Gimeno <span class="btn follow">Follow</span>](https://blog.logrocket.com/author/albertogimeno/) <span class="author-description d-block">Ecosystem engineer at @github. Sometimes I write about JavaScript, Node.js, and frontend development.</span></div>

</div>

<div class="after-post-tags">

*   [Uncategorized](https://blog.logrocket.com/category/uncategorized/)

*   [#node](https://blog.logrocket.com/tag/node/)

</div>

<div class="row mb-5 prevnextlinks justify-content-center align-items-center">

<div class="col-md-6 col-xs-12 rightborder pl-0">

<div class="thepostlink">« [How to use web fonts in CSS](https://blog.logrocket.com/how-to-use-web-fonts-in-css-a0326f4d6a4d/)</div>

</div>

<div class="col-md-6 col-xs-12 text-right pr-0">

<div class="thepostlink">[Tools and modern workflow for front-end developers](https://blog.logrocket.com/tools-and-modern-workflow-for-front-end-developers-505c7227e917/) »</div>

</div>

</div>

</div>

</div>

</div>

<div class="graybg">

<div class="container">

<div class="row justify-content-center listrecent listrelated">

<div class="col-lg-4 col-md-4 col-sm-4">

<div class="card post height262">[](https://blog.logrocket.com/build-more-accessible-forms-with-react-icons/)

<div class="card-block">

## [Build more accessible forms with React Icons](https://blog.logrocket.com/build-more-accessible-forms-with-react-icons/)

<div class="metafooter">

<div class="wrapfooter"><span class="meta-footer-thumb">[![](https://i0.wp.com/blog.logrocket.com/wp-content/uploads/2019/04/peterekeneeze.jpg?resize=150%2C150&ssl=1)

<noscript>![](https://i0.wp.com/blog.logrocket.com/wp-content/uploads/2019/04/peterekeneeze.jpg?resize=150%2C150&ssl=1)</noscript>

](https://blog.logrocket.com/author/peterekeneeze/)</span><span class="author-meta"><span class="post-name">[Peter Ekene Eze](https://blog.logrocket.com/author/peterekeneeze/)</span>  
<span class="post-date">Jan 24, 2020</span> <span class="dot"></span><span class="readingtime">4 min read</span></span><span class="post-read-more">[](https://blog.logrocket.com/build-more-accessible-forms-with-react-icons/)</span></div>

</div>

</div>

</div>

</div>

<div class="col-lg-4 col-md-4 col-sm-4">

<div class="card post height262">[](https://blog.logrocket.com/10-most-important-javascript-frameworks-past-decade/)

<div class="card-block">

## [The 10 most important JavaScript frameworks of the past…](https://blog.logrocket.com/10-most-important-javascript-frameworks-past-decade/)

<div class="metafooter">

<div class="wrapfooter"><span class="meta-footer-thumb">[![](https://i1.wp.com/blog.logrocket.com/wp-content/uploads/2019/05/ovie-okeh.jpeg?resize=150%2C150&ssl=1)

<noscript>![](https://i1.wp.com/blog.logrocket.com/wp-content/uploads/2019/05/ovie-okeh.jpeg?resize=150%2C150&ssl=1)</noscript>

](https://blog.logrocket.com/author/ovieokeh/)</span><span class="author-meta"><span class="post-name">[Ovie Okeh](https://blog.logrocket.com/author/ovieokeh/)</span>  
<span class="post-date">Jan 24, 2020</span> <span class="dot"></span><span class="readingtime">8 min read</span></span><span class="post-read-more">[](https://blog.logrocket.com/10-most-important-javascript-frameworks-past-decade/)</span></div>

</div>

</div>

</div>

</div>

<div class="col-lg-4 col-md-4 col-sm-4">

<div class="card post height262">[](https://blog.logrocket.com/the-ultimate-guide-to-iframes/)

<div class="card-block">

## [The ultimate guide to iframes](https://blog.logrocket.com/the-ultimate-guide-to-iframes/)

<div class="metafooter">

<div class="wrapfooter"><span class="meta-footer-thumb">[![](https://i2.wp.com/blog.logrocket.com/wp-content/uploads/2020/01/author-photo_nada-rifki.png?resize=150%2C150&ssl=1)

<noscript>![](https://i2.wp.com/blog.logrocket.com/wp-content/uploads/2020/01/author-photo_nada-rifki.png?resize=150%2C150&ssl=1)</noscript>

](https://blog.logrocket.com/author/rifkinada/)</span><span class="author-meta"><span class="post-name">[Nada Rifki](https://blog.logrocket.com/author/rifkinada/)</span>  
<span class="post-date">Jan 23, 2020</span> <span class="dot"></span><span class="readingtime">9 min read</span></span><span class="post-read-more">[](https://blog.logrocket.com/the-ultimate-guide-to-iframes/)</span></div>

</div>

</div>

</div>

</div>

</div>

<div class="row justify-content-center">

<div class="col-md-8">

<div id="comments" class="comments-area">

## 5 Replies to “Node.js multithreading: What are Worker threads, and why do…”

1.  <article id="div-comment-193" class="comment-body">

    <footer class="comment-meta">

    <div class="comment-author vcard">![](https://secure.gravatar.com/avatar/95da8531267310d384681c953762007b?s=36&d=mm&r=g)

    <noscript>![](https://secure.gravatar.com/avatar/95da8531267310d384681c953762007b?s=36&d=mm&r=g)</noscript>

    **arunsharma333** <span class="says">says:</span></div>

    <div class="comment-metadata">[<time datetime="2019-07-18T22:59:22-04:00">July 18, 2019 at 10:59 pm</time>](https://blog.logrocket.com/node-js-multithreading-what-are-worker-threads-and-why-do-they-matter-48ab102f8b10/#comment-193)</div>

    </footer>

    <div class="comment-content">

    Very helpful! Thanks

    </div>

    <div class="reply">[](#comment-193)</div>

    </article>

2.  <article id="div-comment-228" class="comment-body">

    <footer class="comment-meta">

    <div class="comment-author vcard">![](https://secure.gravatar.com/avatar/f6ab4a707a73df1ab1aece5beea6feba?s=36&d=mm&r=g)

    <noscript>![](https://secure.gravatar.com/avatar/f6ab4a707a73df1ab1aece5beea6feba?s=36&d=mm&r=g)</noscript>

    **Moses Peter** <span class="says">says:</span></div>

    <div class="comment-metadata">[<time datetime="2019-07-25T07:15:09-04:00">July 25, 2019 at 7:15 am</time>](https://blog.logrocket.com/node-js-multithreading-what-are-worker-threads-and-why-do-they-matter-48ab102f8b10/#comment-228)</div>

    </footer>

    <div class="comment-content">

    This is the best node.js article I’ve read this year! Thanks a bunch!

    </div>

    <div class="reply">[](#comment-228)</div>

    </article>

3.  <article id="div-comment-367" class="comment-body">

    <footer class="comment-meta">

    <div class="comment-author vcard">![](https://secure.gravatar.com/avatar/1170401748b20bed2e3e75476194ed56?s=36&d=mm&r=g)

    <noscript>![](https://secure.gravatar.com/avatar/1170401748b20bed2e3e75476194ed56?s=36&d=mm&r=g)</noscript>

    **[baraa](https://baraabytes.com)** <span class="says">says:</span></div>

    <div class="comment-metadata">[<time datetime="2019-08-18T22:09:16-04:00">August 18, 2019 at 10:09 pm</time>](https://blog.logrocket.com/node-js-multithreading-what-are-worker-threads-and-why-do-they-matter-48ab102f8b10/#comment-367)</div>

    </footer>

    <div class="comment-content">

    nice article concise and into the point, Thanks,

    </div>

    <div class="reply">[](#comment-367)</div>

    </article>

4.  <article id="div-comment-574" class="comment-body">

    <footer class="comment-meta">

    <div class="comment-author vcard">![](https://secure.gravatar.com/avatar/f0a1f1511eb20f856763e2b5d4b41ee5?s=36&d=mm&r=g)

    <noscript>![](https://secure.gravatar.com/avatar/f0a1f1511eb20f856763e2b5d4b41ee5?s=36&d=mm&r=g)</noscript>

    **Turab Qureshi** <span class="says">says:</span></div>

    <div class="comment-metadata">[<time datetime="2019-09-21T05:38:09-04:00">September 21, 2019 at 5:38 am</time>](https://blog.logrocket.com/node-js-multithreading-what-are-worker-threads-and-why-do-they-matter-48ab102f8b10/#comment-574)</div>

    </footer>

    <div class="comment-content">

    Thanks a lot for such insight. Cheers.

    </div>

    <div class="reply">[](#comment-574)</div>

    </article>

5.  <article id="div-comment-1237" class="comment-body">

    <footer class="comment-meta">

    <div class="comment-author vcard">![](https://secure.gravatar.com/avatar/e589385454bd1093fadcb4708e2b150c?s=36&d=mm&r=g)

    <noscript>![](https://secure.gravatar.com/avatar/e589385454bd1093fadcb4708e2b150c?s=36&d=mm&r=g)</noscript>

    **Nifemi** <span class="says">says:</span></div>

    <div class="comment-metadata">[<time datetime="2019-12-31T03:26:00-05:00">December 31, 2019 at 3:26 am</time>](https://blog.logrocket.com/node-js-multithreading-what-are-worker-threads-and-why-do-they-matter-48ab102f8b10/#comment-1237)</div>

    </footer>

    <div class="comment-content">

    Very informative and well written. Thanks

    </div>

    <div class="reply">[](#comment-1237)</div>

    </article>

<div id="respond" class="comment-respond">

### Leave a Reply <small>[Cancel reply](/node-js-multithreading-what-are-worker-threads-and-why-do-they-matter-48ab102f8b10/#respond)</small>

<form id="commentform" class="comment-form"><iframe title="Comment Form" src="https://jetpack.wordpress.com/jetpack-comment/?blogid=161333275&amp;postid=178&amp;comment_registration=0&amp;require_name_email=1&amp;stc_enabled=1&amp;stb_enabled=1&amp;show_avatars=1&amp;avatar_default=mystery&amp;greeting=Leave+a+Reply&amp;greeting_reply=Leave+a+Reply+to+%25s&amp;color_scheme=light&amp;lang=en_US&amp;jetpack_version=8.1.1&amp;show_cookie_consent=10&amp;has_cookie_consent=0&amp;token_key=%3Bnormal%3B&amp;sig=3a88c987d950688765bdde7b805faa58bcde8f99#parent=https%3A%2F%2Fblog.logrocket.com%2Fnode-js-multithreading-what-are-worker-threads-and-why-do-they-matter-48ab102f8b10%2F" style="width:100%; height: 430px; border:0;" name="jetpack_remote_comment" class="jetpack_remote_comment" id="jetpack_remote_comment" sandbox="allow-same-origin allow-top-navigation allow-scripts allow-forms allow-popups"></iframe><script>document.addEventListener('DOMContentLoaded', function () { var commentForms = document.getElementsByClassName('jetpack_remote_comment'); for (var i = 0; i < commentForms.length; i++) { commentForms[i].allowTransparency = false; commentForms[i].scrolling = 'no'; } });</script></form>

</div>

<input type="hidden" name="comment_parent" id="comment_parent" value=""></div>

</div>

</div>

</div>

</div>

</div>

<div class="container">

<footer class="footer">

<div class="pull-left">We just moved our blog! Does something seem off? Email <a>support@logrocket.com</a></div>

<div class="pull-right">

<div class="footerRight">

<div id="jetpack-search-filters-2-wrapper" class="">

<div class="jetpack-search-form">

<form role="search" method="get" class="search-form" action="https://blog.logrocket.com/"><input type="hidden" name="post_type" value="post"> <input type="search" class="search-field" placeholder="Search..." value="" name="s" title="Search for:">  <input type="hidden" name="orderby" value="relevance"><input type="hidden" name="order" value="DESC"><input type="hidden" name="post_type" value="post"></form>

</div>

</div>

</div>

</div>

<a href="" class="back-to-top hidden-md-down"></a></footer>

</div>

<script>window.onload = function() { if (window.jQuery) { jQuery(document).ready(function() { if(jQuery(('.text-capitalize').length) && (typeof heap !== 'undefined')) { var postLength = jQuery('.wordcount').text(); var postAuthor = jQuery('.text-capitalize').first().text(); var postAuthorclean = postAuthor.replace(' Follow','').replace(' ',''); heap.track('Post Author', {'Author': postAuthorclean}); heap.track('Post Length', {'Length': postLength}); } if (typeof hljs !== 'undefined') { document.querySelectorAll('pre').forEach((block) => { hljs.highlightBlock(block); }); } }); } else { return; } }</script> <script>if (typeof jQuery !== 'undefined') { jQuery(function(){ jQuery('a[href*="/signup/"]').each(function(){ jQuery(this).addClass('signup-blog'); }); }); }</script> <script>jQuery(document).ready(function() { if(typeof heap !== 'undefined') { setTimeout(function(){ heap.track('View Greater 30s', '> 30s'); },30000); } });</script><script type="text/javascript">window.WPCOM_sharing_counts = {"https:\/\/blog.logrocket.com\/node-js-multithreading-what-are-worker-threads-and-why-do-they-matter-48ab102f8b10\/":178};</script> <script type="text/javascript">/* <![CDATA[ */ var codePrettifyLoaderBaseUrl = "https:\/\/blog.logrocket.com\/wp-content\/plugins\/code-prettify\/prettify"; /* ]]> */</script> <script type="text/javascript">/* <![CDATA[ */ var wpcf7 = {"apiSettings":{"root":"https:\/\/blog.logrocket.com\/wp-json\/contact-form-7\/v1","namespace":"contact-form-7\/v1"},"cached":"1"}; /* ]]> */</script> <script type="text/javascript">/* <![CDATA[ */ var jetpackCarouselStrings = {"widths":[370,700,1000,1200,1400,2000],"is_logged_in":"","lang":"en","ajaxurl":"https:\/\/blog.logrocket.com\/wp-admin\/admin-ajax.php","nonce":"65a21e9345","display_exif":"1","display_geo":"1","single_image_gallery":"1","single_image_gallery_media_file":"","background_color":"black","comment":"Comment","post_comment":"Post Comment","write_comment":"Write a Comment...","loading_comments":"Loading Comments...","download_original":"View full size <span class=\"photo-size\">{0}<span class=\"photo-size-times\">\u00d7<\/span>{1}<\/span>","no_comment_text":"Please be sure to submit some text with your comment.","no_comment_email":"Please provide an email address to comment.","no_comment_author":"Please provide your name to comment.","comment_post_error":"Sorry, but there was an error posting your comment. Please try again later.","comment_approved":"Your comment was approved.","comment_unapproved":"Your comment is in moderation.","camera":"Camera","aperture":"Aperture","shutter_speed":"Shutter Speed","focal_length":"Focal Length","copyright":"Copyright","comment_registration":"0","require_name_email":"1","login_url":"https:\/\/blog.logrocket.com\/wp-login.php?redirect_to=https%3A%2F%2Fblog.logrocket.com%2Fnode-js-multithreading-what-are-worker-threads-and-why-do-they-matter-48ab102f8b10%2F","blog_id":"1","meta_data":["camera","aperture","shutter_speed","focal_length","copyright"],"local_comments_commenting_as":"<fieldset><label for=\"email\">Email (Required)<\/label> <input type=\"text\" name=\"email\" class=\"jp-carousel-comment-form-field jp-carousel-comment-form-text-field\" id=\"jp-carousel-comment-form-email-field\" \/><\/fieldset><fieldset><label for=\"author\">Name (Required)<\/label> <input type=\"text\" name=\"author\" class=\"jp-carousel-comment-form-field jp-carousel-comment-form-text-field\" id=\"jp-carousel-comment-form-author-field\" \/><\/fieldset><fieldset><label for=\"url\">Website<\/label> <input type=\"text\" name=\"url\" class=\"jp-carousel-comment-form-field jp-carousel-comment-form-text-field\" id=\"jp-carousel-comment-form-url-field\" \/><\/fieldset>"}; /* ]]> */</script> <script type="text/javascript">/* <![CDATA[ */ var sharing_js_options = {"lang":"en","counts":"1","is_stats_active":"1"}; /* ]]> */</script> <script type="text/javascript">var windowOpen; jQuery( document.body ).on( 'click', 'a.share-twitter', function() { // If there's another sharing window open, close it. if ( 'undefined' !== typeof windowOpen ) { windowOpen.close(); } windowOpen = window.open( jQuery( this ).attr( 'href' ), 'wpcomtwitter', 'menubar=1,resizable=1,width=600,height=350' ); return false; }); var windowOpen; jQuery( document.body ).on( 'click', 'a.share-linkedin', function() { // If there's another sharing window open, close it. if ( 'undefined' !== typeof windowOpen ) { windowOpen.close(); } windowOpen = window.open( jQuery( this ).attr( 'href' ), 'wpcomlinkedin', 'menubar=1,resizable=1,width=580,height=450' ); return false; }); var windowOpen; jQuery( document.body ).on( 'click', 'a.share-facebook', function() { // If there's another sharing window open, close it. if ( 'undefined' !== typeof windowOpen ) { windowOpen.close(); } windowOpen = window.open( jQuery( this ).attr( 'href' ), 'wpcomfacebook', 'menubar=1,resizable=1,width=600,height=400' ); return false; });</script> <script type="text/javascript">(function () { var comm_par_el = document.getElementById( 'comment_parent' ), comm_par = ( comm_par_el && comm_par_el.value ) ? comm_par_el.value : '', frame = document.getElementById( 'jetpack_remote_comment' ), tellFrameNewParent; tellFrameNewParent = function () { if ( comm_par ) { frame.src = "https://jetpack.wordpress.com/jetpack-comment/?blogid=161333275&postid=178&comment_registration=0&require_name_email=1&stc_enabled=1&stb_enabled=1&show_avatars=1&avatar_default=mystery&greeting=Leave+a+Reply&greeting_reply=Leave+a+Reply+to+%25s&color_scheme=light&lang=en_US&jetpack_version=8.1.1&show_cookie_consent=10&has_cookie_consent=0&token_key=%3Bnormal%3B&sig=3a88c987d950688765bdde7b805faa58bcde8f99#parent=https%3A%2F%2Fblog.logrocket.com%2Fnode-js-multithreading-what-are-worker-threads-and-why-do-they-matter-48ab102f8b10%2F" + '&replytocom=' + parseInt( comm_par, 10 ).toString(); } else { frame.src = "https://jetpack.wordpress.com/jetpack-comment/?blogid=161333275&postid=178&comment_registration=0&require_name_email=1&stc_enabled=1&stb_enabled=1&show_avatars=1&avatar_default=mystery&greeting=Leave+a+Reply&greeting_reply=Leave+a+Reply+to+%25s&color_scheme=light&lang=en_US&jetpack_version=8.1.1&show_cookie_consent=10&has_cookie_consent=0&token_key=%3Bnormal%3B&sig=3a88c987d950688765bdde7b805faa58bcde8f99#parent=https%3A%2F%2Fblog.logrocket.com%2Fnode-js-multithreading-what-are-worker-threads-and-why-do-they-matter-48ab102f8b10%2F"; } }; if ( 'undefined' !== typeof addComment ) { addComment._Jetpack_moveForm = addComment.moveForm; addComment.moveForm = function ( commId, parentId, respondId, postId ) { var returnValue = addComment._Jetpack_moveForm( commId, parentId, respondId, postId ), cancelClick, cancel; if ( false === returnValue ) { cancel = document.getElementById( 'cancel-comment-reply-link' ); cancelClick = cancel.onclick; cancel.onclick = function () { var cancelReturn = cancelClick.call( this ); if ( false !== cancelReturn ) { return cancelReturn; } if ( ! comm_par ) { return cancelReturn; } comm_par = 0; tellFrameNewParent(); return cancelReturn; }; } if ( comm_par == parentId ) { return returnValue; } comm_par = parentId; tellFrameNewParent(); return returnValue; }; } // Do the post message bit after the dom has loaded. document.addEventListener( 'DOMContentLoaded', function () { var iframe_url = "https:\/\/jetpack.wordpress.com"; if ( window.postMessage ) { if ( document.addEventListener ) { window.addEventListener( 'message', function ( event ) { var origin = event.origin.replace( /^http:\/\//i, 'https://' ); if ( iframe_url.replace( /^http:\/\//i, 'https://' ) !== origin ) { return; } jQuery( frame ).height( event.data ); }); } else if ( document.attachEvent ) { window.attachEvent( 'message', function ( event ) { var origin = event.origin.replace( /^http:\/\//i, 'https://' ); if ( iframe_url.replace( /^http:\/\//i, 'https://' ) !== origin ) { return; } jQuery( frame ).height( event.data ); }); } } }) })();</script> <script type="text/javascript">_stq = window._stq || []; _stq.push([ 'view', {v:'ext',j:'1:8.1.1',blog:'161333275',post:'178',tz:'-5',srv:'blog.logrocket.com'} ]); _stq.push([ 'clickTrackerInit', '161333275', '178' ]);</script> <script>b64e=function(a){return btoa(encodeURIComponent(a).replace(/%([0-9A-F]{2})/g,function(a,b){return String.fromCharCode("0x"+b)}))};b64d=function(a){return decodeURIComponent(atob(a).split("").map(function(a){return"%"+("00"+a.charCodeAt(0).toString(16)).slice(-2)}).join(""))}; ai_insert=function(a,c,g){var d=-1!=c.indexOf(":eq")?jQuery(c):document.querySelectorAll(c);Array.prototype.forEach.call(d,function(b,d){selector_string=b.hasAttribute("id")?"#"+b.getAttribute("id"):b.hasAttribute("class")?"."+b.getAttribute("class").replace(RegExp(" ","g"),"."):"";var e=document.createElement("div");e.innerHTML=g;var f=e.getElementsByClassName("ai-selector-counter")[0];null!=f&&(f.innerText=d+1);f=e.getElementsByClassName("ai-debug-name ai-main")[0];if(null!=f){var h="";"before"== a?h=ai_front.insertion_before:"after"==a?h=ai_front.insertion_after:"prepend"==a?h=ai_front.insertion_prepend:"append"==a?h=ai_front.insertion_append:"replace-content"==a?h=ai_front.insertion_replace_content:"replace-element"==a&&(h=ai_front.insertion_replace_element);-1==selector_string.indexOf(".ai-viewports")&&(f.innerText=h+" "+c+" ("+b.tagName.toLowerCase()+selector_string+")")}f=document.createRange().createContextualFragment(e.innerHTML);"before"==a?b.parentNode.insertBefore(f,b):"after"== a?b.parentNode.insertBefore(f,b.nextSibling):"prepend"==a?b.insertBefore(f,b.firstChild):"append"==a?b.insertBefore(f,null):"replace-content"==a?b.innerHTML=e.innerHTML:"replace-element"==a&&(b.parentNode.insertBefore(f,b),b.parentNode.removeChild(b))})}; ai_insert_code=function(a){function c(a,b){return null==a?!1:a.classList?a.classList.contains(b):-1<(" "+a.className+" ").indexOf(" "+b+" ")}function g(a,b){null!=a&&(a.classList?a.classList.add(b):a.className+=" "+b)}function d(a,b){null!=a&&(a.classList?a.classList.remove(b):a.className=a.className.replace(new RegExp("(^|\\b)"+b.split(" ").join("|")+"(\\b|$)","gi")," "))}if("undefined"!=typeof a){var b=!1,e=c(a,"no-visibility-check")?!0:!!(a.offsetWidth||a.offsetHeight||a.getClientRects().length); a.getAttribute("data-block");if(e){b=a.getAttribute("data-code");e=a.getAttribute("data-insertion");var k=a.getAttribute("data-selector");null!=b&&(null!=e&&null!=k?document.querySelectorAll(k).length&&(ai_insert(e,k,b64d(b)),d(a,"ai-viewports")):(b=document.createRange().createContextualFragment(b64d(b)),a.parentNode.insertBefore(b,a.nextSibling),d(a,"ai-viewports")));b=!0;a=a.getElementsByClassName("ai-check-block");"undefined"!=typeof a[0]&&a[0].parentNode.removeChild(a[0])}else e=a.previousElementSibling, c(e,"ai-debug-bar")&&c(e,"ai-debug-script")&&(d(e,"ai-debug-script"),g(e,"ai-debug-viewport-invisible")),d(a,"ai-viewports");return b}};ai_insert_list_code=function(a){var c=document.getElementsByClassName(a)[0];if("undefined"!=typeof c){var g=ai_insert_code(c),d=c.closest("div.code-block");d&&(g||d.removeAttribute("data-ai"),d.classList.remove("ai-list-block"),d.style.visibility="",d.classList.contains("ai-remove-position")&&(d.style.position=""));c.classList.remove(a);g&&ai_process_elements()}}; ai_insert_viewport_code=function(a){var c=document.getElementsByClassName(a)[0];"undefined"!=typeof c&&(ai_insert_code(c),c.classList.remove(a),ai_process_elements())};ai_insert_code_by_class=function(a){var c=document.getElementsByClassName(a)[0];"undefined"!=typeof c&&(ai_insert_code(c),c.classList.remove(a))};ai_process_elements_active=!1; function ai_process_elements(){ai_process_elements_active||setTimeout(function(){ai_process_elements_active=!1;"function"==typeof ai_process_rotations&&ai_process_rotations();"function"==typeof ai_process_lists&&ai_process_lists(jQuery("div.ai-list-data"));"function"==typeof ai_process_ip_addresses&&ai_process_ip_addresses(jQuery("div.ai-ip-data"))},5);ai_process_elements_active=!0} function b64e(a){return btoa(encodeURIComponent(a).replace(/%([0-9A-F]{2})/g,function(a,g){return String.fromCharCode("0x"+g)}))}function b64d(a){return decodeURIComponent(atob(a).split("").map(function(a){return"%"+("00"+a.charCodeAt(0).toString(16)).slice(-2)}).join(""))}; jQuery(function(a){function e(a){return decodeURIComponent(atob(a).split("").map(function(a){return"%"+("00"+a.charCodeAt(0).toString(16)).slice(-2)}).join(""))}function n(a){a=a.match(h);return null!=a&&1<a.length&&"string"===typeof a[1]&&0<a[1].length?a[1].toLowerCase():null}function k(a){try{var b=Date.parse(a);isNaN(b)&&(b=null)}catch(w){b=null}return b}var h=/:\/\/(.[^/:]+)/i;ai_process_lists=function(b){b=null==b?a("div.ai-list-data"):b.filter(".ai-list-data");if(b.length){b.removeClass("ai-list-data"); var r=document.cookie.split(";");r.forEach(function(a,c){r[c]=a.trim()});var h=getAllUrlParams(window.location.search);if(null!=h.referrer)var m=h.referrer;else m=document.referrer,""!=m&&(m=n(m));if("undefined"!==typeof MobileDetect)var u=new MobileDetect(window.navigator.userAgent);b.each(function(){var b=a(this).closest("div.code-block"),c=!0,f=!1,d=a(this).attr("referer-list");if("undefined"!=typeof d){d=e(d).split(",");var g=a(this).attr("referer-list-type");a.each(d,function(a, b){if(""==b)return!0;if("*"==b.charAt(0))if("*"==b.charAt(b.length-1)){if(b=b.substr(1,b.length-2),-1!=m.indexOf(b))return f=!0,!1}else{if(b=b.substr(1),m.substr(-b.length)==b)return f=!0,!1}else if("*"==b.charAt(b.length-1)){if(b=b.substr(0,b.length-1),0==m.indexOf(b))return f=!0,!1}else if("#"==b){if(""==m)return f=!0,!1}else if(b==m)return f=!0,!1});switch(g){case "B":f&&(c=!1);break;case "W":f||(c=!1)}}d=a(this).attr("client-list");if("undefined"!=typeof d&&"undefined"!==typeof u)switch(d=e(d).split(","), g=a(this).attr("client-list-type"),a.each(d,function(a,b){if(""==b)return!0;if(u.is(b))return f=!0,!1}),g){case "B":f&&(c=!1);break;case "W":f||(c=!1)}if(c&&(d=a(this).attr("parameter-list"),"undefined"!=typeof d))switch(d=e(d).split(","),g=a(this).attr("parameter-list-type"),f=!1,a.each(d,function(a,b){if(-1!=b.indexOf("=")){if(-1!=r.indexOf(b))return f=!0,!1}else r.forEach(function(a){a=a.split("=");if(b==a[0])return f=!0,!1})}),g){case "B":f&&(c=!1);break;case "W":f||(c=!1)}var l=a(this).prevAll(".ai-debug-bar.ai-debug-lists"); d=""==m?"#":m;l.find(".ai-debug-name.ai-list-info").text(d).attr("title",window.navigator.userAgent);l.find(".ai-debug-name.ai-list-status").text(c?ai_front.visible:ai_front.hidden);d=!1;if(c){var h=a(this).attr("scheduling-start");l=a(this).attr("scheduling-end");var p=a(this).attr("scheduling-days");if("undefined"!=typeof h&&"undefined"!=typeof l&&"undefined"!=typeof p){d=!0;var n=parseInt(a(this).attr("scheduling-fallback"));g=parseInt(a(this).attr("gmt"));var q=k(e(h))+g;l=k(e(l))+g;h=e(p).split(","); p=a(this).attr("scheduling-type");var t=(new Date).getTime()+g,v=new Date(t);g=v.getDay();0==g?g=6:g--;q=t>=q&&t<l&&h.includes(g.toString());switch(p){case "B":q=!q}q||(c=!1);p=v.toISOString().split(".")[0].replace("T"," ");l=a(this).prevAll(".ai-debug-bar.ai-debug-scheduling");l.find(".ai-debug-name.ai-scheduling-info").text(p+" "+g);l.find(".ai-debug-name.ai-scheduling-status").text(c?ai_front.visible:ai_front.hidden);c||0==n||(l.removeClass("ai-debug-scheduling").addClass("ai-debug-fallback"), l.find(".ai-debug-name.ai-scheduling-status").text(ai_front.fallback+"="+n))}}a(this).css({visibility:"",position:"",width:"",height:"","z-index":""});c?(b.css({visibility:""}),b.hasClass("ai-remove-position")&&b.css({position:""}),"undefined"!=typeof a(this).data("code")&&(c=e(a(this).data("code")),a(this).append(c),ai_process_element(this))):d&&!q&&0!=n?(b.css({visibility:""}),b.hasClass("ai-remove-position")&&b.css({position:""}),a(this).next(".ai-fallback").removeClass("ai-fallback"),"undefined"!= typeof a(this).data("fallback-code")?(c=e(a(this).data("fallback-code")),a(this).append(c),ai_process_element(this)):a(this).hide(),c=b.attr("data-ai"),"undefined"!==typeof c&&!1!==c&&(c=a(this).attr("fallback-tracking"),"undefined"!==typeof c&&!1!==c&&b.attr("data-ai",c))):(a(this).hide(),b.removeAttr("data-ai").removeClass("ai-track"),b.find(".ai-debug-block").length?(b.css({visibility:""}).removeClass("ai-close"),b.hasClass("ai-remove-position")&&b.css({position:""})):b.hide());a(this).attr("data-code", "");a(this).attr("data-fallback-code","");b.removeClass("ai-list-block")})}};a(document).ready(function(a){setTimeout(function(){ai_process_lists()},5)})});function ai_process_element(a){setTimeout(function(){"function"==typeof ai_process_rotations_in_element&&ai_process_rotations_in_element(a);"function"==typeof ai_process_lists&&ai_process_lists(jQuery("div.ai-list-data",a));"function"==typeof ai_process_ip_addresses&&ai_process_ip_addresses(jQuery("div.ai-ip-data",a))},5)} function getAllUrlParams(a){var e=a?a.split("?")[1]:window.location.search.slice(1);a={};if(e){e=e.split("#")[0];e=e.split("&");for(var n=0;n<e.length;n++){var k=e[n].split("="),h=void 0,b=k[0].replace(/\[\d*\]/,function(a){h=a.slice(1,-1);return""});k="undefined"===typeof k[1]?"":k[1];b=b.toLowerCase();k=k.toLowerCase();a[b]?("string"===typeof a[b]&&(a[b]=[a[b]]),"undefined"===typeof h?a[b].push(k):a[b][h]=k):a[b]=k}}return a}; ai_run_462272686769 = function(){ ai_document_write=document.write;document.write=function(a){"interactive"==document.readyState?(console.error("document.write called after page load: ",a),"undefined"!=typeof ai_js_errors&&ai_js_errors.push(["document.write called after page load",a,0])):ai_document_write.call(document,a)}; ai_insert ('prepend', '.mediumnavigation', b64d ('PGRpdiBjbGFzcz0nY29kZS1ibG9jayBjb2RlLWJsb2NrLTIzJyBzdHlsZT0nbWFyZ2luOiA4cHggMDsgY2xlYXI6IGJvdGg7Jz4KPGEgaHJlZj0iaHR0cHM6Ly93d3cyLmxvZ3JvY2tldC5jb20vcmVhY3QtcGVyZm9ybWFuY2UtbW9uaXRvcmluZyI+PGRpdiBjbGFzcz0ibWV0cmljcy1iYW5uZXIiPgo8ZGl2IGlkPSJtZXRyaWNzLWVtYmVkIj4KPGg2Pk5ldzogTG9nUm9ja2V0IE1ldHJpY3MgLSBwZXJmb3JtYW5jZSBtb25pdG9yaW5nIGZvciBSZWFjdCBhcHBzOiA8c3BhbiBzdHlsZT0idGV4dC1kZWNvcmF0aW9uOnVuZGVybGluZTsiPnRyeSBpdCBvdXQ8L3NwYW4+ICYjODU5NDs8L2g2Pgo8L2Rpdj4KPC9kaXY+PC9hPgoKPHN0eWxlPgoubWV0cmljcy1iYW5uZXIge3BhZGRpbmc6IDhweCAwcHg7IGJhY2tncm91bmQ6ICM3NjRhYmMKO2NvbG9yOiAjZmZmZmZmO30KLm1ldHJpY3MtYmFubmVyIGg2IHtjb2xvcjogI2ZmZmZmZjt0ZXh0LWFsaWduOmNlbnRlcjsgbWFyZ2luOiAwcHggIWltcG9ydGFudDt9CiNtZXRyaWNzLWVtYmVkIHt3aWR0aDogNDguNSU7IG1hcmdpbjogMHB4IGF1dG87IGRpc3BsYXk6IGJsb2NrO30KLmNvZGUtYmxvY2stMjMge21hcmdpbjogMHB4ICFpbXBvcnRhbnQ7IGRpc3BsYXk6bm9uZTt9Ci5tZWRpdW1uYXZpZ2F0aW9uIHtwYWRkaW5nOiAwcHggMHB4IDhweCAwcHg7fQoubmF2YXJlYSB7cGFkZGluZy10b3A6IDEwcHg7fQo8L3N0eWxlPgo8L2Rpdj4K')); ai_insert ('prepend', '.mediumnavigation', b64d ('PGRpdiBjbGFzcz0nY29kZS1ibG9jayBjb2RlLWJsb2NrLTIwJyBzdHlsZT0nbWFyZ2luOiA4cHggMDsgY2xlYXI6IGJvdGg7Jz4KPGEgaHJlZj0iaHR0cHM6Ly93d3cyLmxvZ3JvY2tldC5jb20vcHJvZmVzc2lvbmFsLXNpZ251cCI+PGRpdiBjbGFzcz0ibWV0cmljcy1iYW5uZXIiPgo8ZGl2IGlkPSJtZXRyaWNzLWVtYmVkIj4KPGg2Pk5ldzogTG9nUm9ja2V0IE1ldHJpY3MgLSBwZXJmb3JtYW5jZSBtb25pdG9yaW5nIGZvciBmcm9udGVuZDogPHNwYW4gc3R5bGU9InRleHQtZGVjb3JhdGlvbjp1bmRlcmxpbmU7Ij50cnkgaXQgb3V0PC9zcGFuPiAmIzg1OTQ7PC9oNj4KPC9kaXY+CjwvZGl2PjwvYT4KCjxzdHlsZT4KLm1ldHJpY3MtYmFubmVyIHtwYWRkaW5nOiA4cHggMHB4OyBiYWNrZ3JvdW5kOiAjNzY0YWJjCjtjb2xvcjogI2ZmZmZmZjt9Ci5tZXRyaWNzLWJhbm5lciBoNiB7Y29sb3I6ICNmZmZmZmY7dGV4dC1hbGlnbjpjZW50ZXI7IG1hcmdpbjogMHB4ICFpbXBvcnRhbnQ7fQojbWV0cmljcy1lbWJlZCB7d2lkdGg6IDQ4LjUlOyBtYXJnaW46IDBweCBhdXRvOyBkaXNwbGF5OiBibG9jazt9Ci5jb2RlLWJsb2NrLTIwIHttYXJnaW46IDBweCAhaW1wb3J0YW50OyBkaXNwbGF5Om5vbmU7fQoubWVkaXVtbmF2aWdhdGlvbiB7cGFkZGluZzogMHB4IDBweCA4cHggMHB4O30KLm5hdmFyZWEge3BhZGRpbmctdG9wOiAxMHB4O30KPC9zdHlsZT4KPC9kaXY+Cg==')); }; if (document.readyState === 'complete' || (document.readyState !== 'loading' && !document.documentElement.doScroll)) ai_run_462272686769 (); else document.addEventListener ('DOMContentLoaded', ai_run_462272686769);</script>
